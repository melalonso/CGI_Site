User_cookies saved on Database to identify user

cart cookies where cookie_id = environt('cart')




insert into cart_cookies values(?,current_timestamp())


select * from shopcart where cookie=? and item_number=?
update shopcart set qty=qty+1 where cookie=? and item_number=?
insert into shopcart values(?,?,?)



create table users (user_id int NOT NULL AUTO_INCREMENT, full_name varchar(100), user_name varchar(20), email VARCHAR(30), phone VARCHAR(15), password VARCHAR(100), cookie_id VARCHAR(50), salt VARCHAR(40),PRIMARY KEY (user_id));

create table products (product_id int NOT NULL AUTO_INCREMENT, name varchar(30), description varchar(300), price int, PRIMARY KEY (product_id));

create table shop_cart (user_id VARCHAR(50), product_id int, quantity int, checkout tinyint(1), PRIMARY KEY (user_id, product_id, checkout));

create table messages (message_id int NOT NULL AUTO_INCREMENT, person_name varchar(50), message TEXT, PRIMARY KEY (message_id));


select * from shopcart, items where shopcart.cookie=? and items.stocknum=shopcart.item_number



select * from shop_cart sc join products pr on sc.product_id=pr.product_id where sc.user_id=1;


create table orders (order_id int NOT NULL AUTO_INCREMENT, user_id int, shipping_address varchar(100), city varchar(50), state varchar(50), country varchar(50), PRIMARY KEY (order_id));

create table order_products (order_id int, product_id int, PRIMARY KEY (order_id, product_id));



===== INSERTS =======
insert into shop_cart (user_id, product_id, quantity, checkout) values (1, 6, 1, 0);





Libraries

https://github.com/trusch/libbcrypt





grant insert, select, update, delete on `sitio_ventas`.* to 'melalonso'@'%';

https://www.digitalocean.com/community/tutorials/how-to-create-a-ssl-certificate-on-apache-for-debian-8